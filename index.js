import{A as j,i as A}from"./assets/quote-DYA0pEf7.js";import{i as H,a as me}from"./assets/vendor-CK1Rzdhu.js";const Q=document.querySelector(".scroll__go-top");Q.addEventListener("click",X);window.addEventListener("scroll",fe);function fe(){const e=window.scrollY,t=document.documentElement.clientHeight;Q.classList.toggle("scroll__go-top--show",e>t)}function X(){window.scrollY>0&&(window.scrollBy(0,-75),requestAnimationFrame(X))}const O={timeout:3e3,close:!1,closeOnClick:!0,icon:null,position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"};class S{static success(t){H.success({title:"OK",titleColor:"green",message:t,messageColor:"green",progressBarColor:"green",...O})}static error(t){H.error({title:"Error",titleColor:"red",message:t,messageColor:"red",progressBarColor:"red",...O})}static warning(t){H.warning({title:"Caution",message:t,titleColor:"red",messageColor:"red",progressBarColor:"red",...O})}}const x=document.getElementById("subscribeForm"),T=x.querySelector('input[name="email"]'),U=document.getElementById("subscribeBtn");T.addEventListener("input",ge);x.addEventListener("submit",ve);function Z(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function ge(){const e=T.value,t=Z(e);T.style.borderColor=t?"green":"red"}async function ve(e){e.preventDefault();const t=new FormData(x),n=t.get("email");if(!Z(n))return console.error("Invalid email address"),S.error("Invalid email address");try{U.disabled=!0;const i=await me.post("https://your-energy.b.goit.study/api/subscription",t,{headers:{"Content-Type":"application/json"}});return i.status>=200&&i.status<300?(x.reset(),T.style.borderColor="",S.success(`${i.data.message}`)):(console.error("Server Error:",i.status,i.statusText),S.error(`Server Error: ${i.status} ${i.statusText}`))}catch(i){return console.error("Error:",i.message),S.error(`Error: ${i.message}`)}finally{U.disabled=!1}}const ee=new j,h=document.querySelector(".js-list"),D=document.getElementById("pagination-numbers"),C=document.querySelector(".search__form"),f=document.querySelector(".exersices__span"),u=document.querySelector(".exersices__text");let $=1;h&&h.addEventListener("click",pe);async function pe(e){const t=e.target.closest(".filters__item");if(!t)return;C&&C.classList.remove("hidden");let n=t.lastElementChild.children[0].innerText.toLowerCase().replace(/\s/g,"");const r=t.lastElementChild.children[1].innerText.toLowerCase().replace(/\s/g,"%20");n==="bodyparts"&&(n="bodypart");const i={filter:n,name:r};localStorage.setItem("paramSearch",JSON.stringify(i));try{const{results:c,totalPages:s}=await ee.getExercises(n,r,$);ne({filter:n,name:r,totalPages:s}),W(c),te(c)}catch(c){console.error(c)}}function te(e){if(!e||e.length===0){u&&u.classList.add("hidden"),f&&f.classList.add("hidden");return}u&&(u.innerText=e[0].bodyPart,u.classList.remove("hidden")),f&&f.classList.remove("hidden")}function he({_id:e,rating:t,name:n,burnedCalories:r,bodyPart:i,target:c}){return`
    <li class="filters__item-card">
      <div class="card__wrap">
        <div class="card__block-btn">
          <p class="card__badge">Workout</p>
          <span class="card__rating">
            <span>${t%1===0?`${t}.0`:t}</span>
            <svg class="card__rating-star" width="18" height="18">
              <use href="${A}#icon-star"></use>
            </svg>
          </span>
          <button class="card__btn" data-id="${e}" type="button">Start
            <svg class="card__btn-arrow" width="16" height="16">
              <use href="${A}#icon-arrow-menu-mobile"></use>
            </svg>
          </button>
        </div>

        <div class="card__wrap-title">
          <div class="card__title-svg-btn">
            <svg class="card__title-svg" width="24" height="24">
              <use href="${A}#icon-running-stick-figure"></use>
            </svg>
          </div>
          <h2 class="card__title">${n}</h2>
        </div>

        <div class="card__block-info">
          <p class="card__text-info"><span class="card__text-gray">Burned calories:</span> ${r}</p>
          <p class="card__text-info"><span class="card__text-gray">Body part:</span> ${i}</p>
          <p class="card__text-info"><span class="card__text-gray">Target:</span> ${c}</p>
        </div>
      </div>
    </li>`}function W(e=[]){if(!h||(h.innerHTML="",!e.length))return;const t=e.map(he).join("");h.insertAdjacentHTML("beforeend",t)}function _e(){const e=document.querySelectorAll(".exercises__btn");e.length&&e.forEach(t=>{t.addEventListener("click",()=>{e.forEach(n=>n.classList.remove("active")),t.classList.add("active"),C&&C.classList.add("hidden"),u&&u.classList.add("hidden"),f&&f.classList.add("hidden")})})}document.addEventListener("DOMContentLoaded",_e);async function ye(e,t,n){$=n;try{const{results:r,totalPages:i}=await ee.getExercises(e,t,$);ne({filter:e,name:t,totalPages:i}),W(r),te(r)}catch(r){console.error(r)}re(),Ee()}function ne({filter:e,name:t,totalPages:n}){if(D&&(D.innerHTML="",!(!n||n<=1))){for(let r=1;r<=n;r++){const i=document.createElement("button");i.className="pagination-button",i.textContent=r,i.addEventListener("click",()=>{ye(e,t,r)}),D.appendChild(i)}re()}}const re=()=>{document.querySelectorAll(".pagination-button").forEach((t,n)=>{t.classList.toggle("active-btn",n+1===$)})};function Ee(){window.scrollTo({top:830,behavior:"auto"})}const be=new j,_=document.querySelector(".js-list"),N=document.getElementById("pagination-numbers"),Y=document.querySelectorAll(".btnFilters");let g=1,P="Muscles";Le();function Le(){_&&(R(P,g),Y.length&&Y.forEach(e=>{e.addEventListener("click",()=>{P=e.dataset.filter||e.innerText.trim(),g=1,_.innerHTML="",R(P,g)})}))}async function R(e,t){try{const{results:n,totalPages:r}=await be.getFilter(e,t);we(n||[]),Se({filter:e,totalPages:r})}catch(n){console.error("Failed to load filters:",n)}}function we(e=[]){if(!_||(_.innerHTML="",!e.length))return;const t=e.map(({filter:n,name:r,imgURL:i})=>`
        <li class="filters__item" data-filter="${n}" data-name="${r}">
          <img class="filters__img-first" src="${i}" alt="${r}" />
          <div class="filters__wrapper-first">
            <h2 class="filters__title-first">${n}</h2>
            <p class="filters__text-first">${r}</p>
          </div>
        </li>
      `).join("");_.insertAdjacentHTML("beforeend",t)}function Se({filter:e,totalPages:t}){if(N&&(N.innerHTML="",!(!t||t<=1))){for(let n=1;n<=t;n++){const r=document.createElement("button");r.className="pagination-button",r.textContent=n,r.addEventListener("click",()=>{ke(e,n)}),N.appendChild(r)}ie()}}async function ke(e,t){g=t,await R(e,g),ie(),xe()}const ie=()=>{document.querySelectorAll(".pagination-button").forEach((t,n)=>{t.classList.toggle("active-btn",n+1===g)})};function xe(){window.scrollTo({top:830,behavior:"auto"})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".bmi__link"),t=document.querySelector(".bmi__backdrop"),n=document.querySelector(".bmi__modal-close-btn"),r=document.querySelector(".aside__img"),i=document.getElementById("bmi-result"),c=document.getElementById("height"),s=document.getElementById("weight"),d=document.getElementById("btn"),o=document.getElementById("weight-condition");let l=!1;if(!t||!i||!c||!s||!d)return;function m(){l||(l=!0,de(),t.classList.remove("is-hidden"),document.body.classList.add("modal-open"),document.addEventListener("keydown",z),t.addEventListener("click",J),n==null||n.addEventListener("click",K),r==null||r.addEventListener("click",F))}function M(){l&&(l=!1,document.removeEventListener("keydown",z),t.removeEventListener("click",J),n==null||n.removeEventListener("click",K),r==null||r.removeEventListener("click",F),t.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}function z(a){a.code==="Escape"&&M()}function J(a){a.target.closest(".bmi__wrapper")||M()}function K(a){a.preventDefault(),M()}function le(a){a.preventDefault(),m()}function F(){m()}function de(){c.value="180",s.value="80",i.value="",o&&(o.innerText="")}function ue(){const a=Number(c.value)/100,V=Number(s.value);if(!a||!V||a<=0||V<=0){i.value="",o&&(o.innerText="Please enter valid values");return}const w=Number((V/(a*a)).toFixed(1));i.value=w,o&&(w<18.5?o.innerText="Under weight!":w<25?o.innerText="Normal weight!":w<30?o.innerText="Overweight!":o.innerText="Obesity!")}d.addEventListener("click",ue),e&&e.addEventListener("click",le),r&&r.addEventListener("click",F)});const q=document.querySelector(".modal-exercises"),E=document.querySelector(".modal-rating"),G=document.querySelector(".rating-close-btn"),I=document.querySelector(".form__btn"),v=document.querySelector(".rating__value"),b=document.querySelector(".rating-email"),L=document.querySelector(".rating-comment"),k=document.querySelectorAll(".rating");q&&E&&G&&I&&v&&b&&L&&(q.addEventListener("click",Te),G.addEventListener("click",B),E.addEventListener("click",Ce),document.addEventListener("keydown",$e),qe(),b.addEventListener("input",y),L.addEventListener("input",y),new MutationObserver(y).observe(v,{childList:!0,subtree:!0}),I.addEventListener("click",Be));function Te(e){e.target.closest(".modal-exercises__btn-rating")&&(E.classList.remove("is-hidden"),q.classList.add("hidden"))}function B(){E.classList.add("is-hidden"),q.classList.remove("hidden")}function Ce(e){e.target===E&&B()}function $e(e){e.key==="Escape"&&B()}function p(e,t,n){const r=parseFloat(n)||0,i=r*20;e&&(e.style.width=`${i}%`),t&&(t.innerHTML=r.toFixed(1))}function qe(){if(!k||k.length===0)return;let e,t,n;for(let s=0;s<k.length;s++){const d=k[s];r(d)}function r(s){i(s),p(e,t,n),s.classList.contains("rating_set")&&c(s)}function i(s){e=s.querySelector(".rating__active"),t=s.querySelector(".rating__value"),n=parseFloat((t==null?void 0:t.innerHTML)||"0")||0}function c(s){const d=s.querySelectorAll(".rating__item");for(let o=0;o<d.length;o++){const l=d[o],m=(o+1).toFixed(1);l.addEventListener("mouseenter",()=>{i(s),p(e,t,m)}),l.addEventListener("mouseleave",()=>{p(e,t,n)}),l.addEventListener("click",()=>{i(s),m!=="0.0"&&(n=parseFloat(m),s.dataset.ajax?console.log("Send rating to server:",n):(t.innerHTML=n.toFixed(1),p(e,t,n)),y())})}}}function se(){const e=b.value.trim(),t=L.value.trim(),n=v.innerHTML.trim();return e!==""&&t!==""&&n!=="0.0"}function y(){I&&(I.disabled=!se())}function Ie(){b.value="",L.value="",v.innerHTML="0.0",setTimeout(()=>{const e=document.querySelector(".rating__active");p(e,v,"0.0"),y()},0)}function Be(e){if(e.preventDefault(),!se()){console.warn("Form is not valid. Please fill in all fields and choose a rating.");return}const t=v.innerHTML.trim(),n=b.value.trim(),r=L.value.trim();console.log("Current rating value:",t),console.log("Entered email:",n),console.log("Entered comment:",r),B(),Ie()}const Me=new j,Fe=document.querySelector(".search__button"),oe=document.querySelector(".search__input");Fe.addEventListener("click",function(e){e.preventDefault(),ce()});oe.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),ce())});async function ce(e){const{filter:t,name:n}=JSON.parse(localStorage.getItem("paramSearch")),r=oe.value.trim();if(r!=="")try{const i=await Me.getSearch(t,n,r);W(i)}catch(i){console.log(i)}}let ae=document.getElementById("mySVG");ae.style.transform="scale(1)";ae.style.fill="var(--color-black)";
//# sourceMappingURL=index.js.map
